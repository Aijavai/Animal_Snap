import{f as M,r as d,c as x,l as A,d as B,q as i,s as e,t as D,D as s,G as g,y as z,z as n}from"./vue-vendor-DjNuForC.js";import{u as j}from"./animal-CiS26lDf.js";import{_ as V}from"./index-B5beYMX8.js";import"./vant-vendor-D-yQvc_G.js";const L={class:"animal-detail-page"},N={key:0,class:"loading-state"},S={key:1,class:"error-state"},H={key:2,class:"animal-content"},I={class:"animal-image-section"},T=["src","alt"],F={class:"image-overlay"},P={class:"confidence-badge"},R={width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},q=["fill","stroke"],E={class:"animal-info"},G={class:"animal-header"},$={class:"species-tag"},J={class:"animal-description"},K={class:"animal-details"},O={class:"detail-item"},Q={class:"detail-value"},U={class:"detail-item"},W={class:"detail-value"},X={class:"detail-item"},Y={class:"detail-value"},Z=M({__name:"AnimalDetailPage",setup(ee){const k=A(),u=z(),v=j(),c=d(!0),l=d(""),o=d(null),r=d(!1),m=x(()=>k.params.id),h=async()=>{try{c.value=!0,l.value="";const a=v.getAnimalById(m.value);a?o.value=a:l.value="Âä®Áâ©‰ø°ÊÅØ‰∏çÂ≠òÂú®"}catch(a){l.value="Âä†ËΩΩÂ§±Ë¥•ÔºåËØ∑ÈáçËØï",console.error("Âä†ËΩΩÂä®Áâ©ËØ¶ÊÉÖÂ§±Ë¥•:",a)}finally{c.value=!1}},f=()=>{u.back()},_=()=>{navigator.share&&o.value?navigator.share({title:`ÂèëÁé∞Âä®Áâ©Ôºö${o.value.name}`,text:o.value.description,url:window.location.href}).catch(a=>{console.log("ÂàÜ‰∫´Â§±Ë¥•:",a),p(window.location.href)}):p(window.location.href)},p=async a=>{try{await navigator.clipboard.writeText(a),console.log("ÈìæÊé•Â∑≤Â§çÂà∂Âà∞Ââ™Ë¥¥Êùø")}catch(t){console.error("Â§çÂà∂Â§±Ë¥•:",t)}},w=()=>{r.value=!r.value},b=()=>{console.log("ÁºñËæëÂä®Áâ©:",o.value?.id)},y=()=>{confirm("Á°ÆÂÆöË¶ÅÂà†Èô§ËøôÂè™Âä®Áâ©ÂêóÔºü")&&(v.removeAnimal(m.value),u.push("/"))},C=a=>new Date(a).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return B(()=>{h()}),(a,t)=>(n(),i("div",L,[e("div",{class:"page-header"},[e("button",{class:"back-btn",onClick:f},[...t[0]||(t[0]=[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[e("path",{d:"M19 12H5M12 19l-7-7 7-7",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])]),t[2]||(t[2]=e("h1",null,"Âä®Áâ©ËØ¶ÊÉÖ",-1)),e("button",{class:"share-btn",onClick:_},[...t[1]||(t[1]=[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[e("path",{d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 1 1 0-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 1 1 5.367-2.684 3 3 0 0 1-5.367 2.684zm0 9.316a3 3 0 1 1 5.367 2.684 3 3 0 0 1-5.367-2.684z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])])]),c.value?(n(),i("div",N,[...t[3]||(t[3]=[e("div",{class:"loading-spinner"},null,-1),e("p",null,"Âä†ËΩΩ‰∏≠...",-1)])])):l.value?(n(),i("div",S,[t[4]||(t[4]=e("div",{class:"error-icon"},"üòû",-1)),t[5]||(t[5]=e("h3",null,"Âä†ËΩΩÂ§±Ë¥•",-1)),e("p",null,s(l.value),1),e("button",{class:"btn-primary",onClick:h},"ÈáçËØï")])):o.value?(n(),i("div",H,[e("div",I,[e("img",{src:o.value.image,alt:o.value.name,class:"animal-image"},null,8,T),e("div",F,[e("div",P,s(Math.round(o.value.confidence*100))+"%",1),e("button",{class:"favorite-btn",onClick:w},[(n(),i("svg",R,[e("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z",fill:r.value?"#ef4444":"none",stroke:r.value?"#ef4444":"white","stroke-width":"2"},null,8,q)]))])])]),e("div",E,[e("div",G,[e("h2",null,s(o.value.name),1),e("div",$,s(o.value.species),1)]),e("p",J,s(o.value.description),1),e("div",K,[e("div",O,[t[6]||(t[6]=e("div",{class:"detail-label"},"Ê†ñÊÅØÂú∞",-1)),e("div",Q,s(o.value.habitat),1)]),e("div",U,[t[7]||(t[7]=e("div",{class:"detail-label"},"ËØÜÂà´Êó∂Èó¥",-1)),e("div",W,s(C(o.value.date)),1)]),e("div",X,[t[8]||(t[8]=e("div",{class:"detail-label"},"ÁΩÆ‰ø°Â∫¶",-1)),e("div",Y,s(Math.round(o.value.confidence*100))+"%",1)])])]),e("div",{class:"action-buttons"},[e("button",{class:"btn-secondary",onClick:b},[...t[9]||(t[9]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},[e("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),g(" ÁºñËæë ",-1)])]),e("button",{class:"btn-danger",onClick:y},[...t[10]||(t[10]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},[e("path",{d:"M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),g(" Âà†Èô§ ",-1)])])])])):D("",!0)]))}}),le=V(Z,[["__scopeId","data-v-e2b7cf84"]]);export{le as default};
