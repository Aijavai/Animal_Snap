import{f as T,r as m,w as U,q as o,x as L,s as e,K as q,t as n,L as G,M as Q,u as t,z as s,I as E,D as p,C as $,G as j}from"./vue-vendor-DjNuForC.js";import{d as K,t as H}from"./performance-DTgyZ5pq.js";import{_ as R}from"./index-B5beYMX8.js";const J=["placeholder","readonly","autofocus"],O=["disabled"],P={key:0,width:"18",height:"18",viewBox:"0 0 24 24",fill:"none"},W={key:1,class:"voice-animation"},X=T({__name:"SearchBar",props:{placeholder:{default:"搜索..."},showVoiceButton:{type:Boolean,default:!0},showClearButton:{type:Boolean,default:!0},debounceDelay:{default:300},throttleDelay:{default:1e3},modelValue:{default:""},readonly:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1}},emits:["update:modelValue","search","voice-search","clear","focus","blur"],setup(x,{expose:b,emit:_}){const c=x,a=_,{placeholder:f,showVoiceButton:k,showClearButton:C,modelValue:B}=c,d=m(),i=m(B),y=m(!1),u=m(!1),g=K(w=>{a("search",w)},c.debounceDelay),h=H(()=>{a("voice-search")},c.throttleDelay),V=()=>{a("update:modelValue",i.value),g(i.value)},S=()=>{a("search",i.value)},F=()=>{y.value=!0,a("focus")},D=()=>{y.value=!1,a("blur")},z=()=>{u.value=!0,h(),setTimeout(()=>{u.value=!1},2e3)},M=()=>{i.value="",a("update:modelValue",""),a("clear"),d.value?.focus()};U(()=>c.modelValue,w=>{i.value=w});const I=()=>{c.readonly&&a("focus")};return b({focus:()=>{d.value?.focus()},blur:()=>{d.value?.blur()}}),(w,l)=>(s(),o("div",{class:L(["search-bar",{focused:y.value}])},[l[4]||(l[4]=e("div",{class:"search-icon"},[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},[e("circle",{cx:"11",cy:"11",r:"8",stroke:"currentColor","stroke-width":"2"}),e("path",{d:"m21 21-4.35-4.35",stroke:"currentColor","stroke-width":"2"})])],-1)),q(e("input",{ref_key:"inputRef",ref:d,"onUpdate:modelValue":l[0]||(l[0]=v=>i.value=v),placeholder:t(f),readonly:x.readonly,autofocus:x.autofocus,onInput:V,onFocus:F,onBlur:D,onKeydown:Q(S,["enter"]),onClick:I,class:"search-input"},null,40,J),[[G,i.value]]),t(k)?(s(),o("button",{key:0,onClick:z,class:"voice-button",disabled:u.value},[u.value?(s(),o("div",W,[...l[2]||(l[2]=[e("span",null,null,-1),e("span",null,null,-1),e("span",null,null,-1)])])):(s(),o("svg",P,[...l[1]||(l[1]=[e("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z",stroke:"currentColor","stroke-width":"2"},null,-1),e("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",stroke:"currentColor","stroke-width":"2"},null,-1),e("line",{x1:"12",y1:"19",x2:"12",y2:"23",stroke:"currentColor","stroke-width":"2"},null,-1),e("line",{x1:"8",y1:"23",x2:"16",y2:"23",stroke:"currentColor","stroke-width":"2"},null,-1)])]))],8,O)):n("",!0),i.value&&t(C)?(s(),o("button",{key:1,onClick:M,class:"clear-button"},[...l[3]||(l[3]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18",stroke:"currentColor","stroke-width":"2"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18",stroke:"currentColor","stroke-width":"2"})],-1)])])):n("",!0)],2))}}),we=R(X,[["__scopeId","data-v-449c77f9"]]),Y={class:"card-image"},Z=["src","alt"],ee={key:0,class:"image-loading"},te={key:1,class:"image-error"},oe={width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},se=["fill","stroke"],re={key:3,class:"confidence-badge"},ae={class:"card-content"},le={class:"card-title"},ne={key:0,class:"card-species"},ie={key:1,class:"card-description"},ce={key:2,class:"card-stats"},de={key:0,class:"stat-item"},ue={key:1,class:"stat-item"},he={key:0,class:"card-actions"},ve=T({__name:"AnimalCard",props:{id:{},name:{},imageUrl:{},species:{},description:{},confidence:{},date:{},habitat:{},isFavorite:{type:Boolean,default:!1},showFavoriteButton:{type:Boolean,default:!0},showStats:{type:Boolean,default:!0},showActions:{type:Boolean,default:!1},size:{default:"medium"}},emits:["click","favorite","view","share"],setup(x,{emit:b}){const _=x,c=b,a=m(!0),f=m(!1),{id:k,name:C,imageUrl:B,species:d,description:i,confidence:y,date:u,habitat:g,isFavorite:h,showFavoriteButton:V,showStats:S,showActions:F}=_,D=K((v,r)=>{c("favorite",v,r)},300),z=()=>{c("click",k)},M=()=>{a.value=!1,f.value=!1},I=()=>{a.value=!1,f.value=!0},A=()=>{D(k,!h)},N=()=>{c("view",k)},w=()=>{c("share",k)},l=v=>new Date(v).toLocaleDateString("zh-CN",{month:"short",day:"numeric"});return(v,r)=>(s(),o("div",{class:L(["animal-card",{"is-favorite":t(h),loading:a.value,error:f.value}]),onClick:z},[e("div",Y,[e("img",{src:t(B),alt:t(C),loading:"lazy",decoding:"async",onLoad:M,onError:I},null,40,Z),a.value?(s(),o("div",ee,[...r[0]||(r[0]=[e("div",{class:"loading-spinner"},null,-1)])])):n("",!0),f.value?(s(),o("div",te,[...r[1]||(r[1]=[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[e("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"2"}),e("line",{x1:"15",y1:"9",x2:"9",y2:"15",stroke:"currentColor","stroke-width":"2"}),e("line",{x1:"9",y1:"9",x2:"15",y2:"15",stroke:"currentColor","stroke-width":"2"})],-1)])])):n("",!0),t(V)?(s(),o("button",{key:2,onClick:E(A,["stop"]),class:L(["favorite-button",{active:t(h)}])},[(s(),o("svg",oe,[e("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z",fill:t(h)?"#EF4444":"none",stroke:t(h)?"#EF4444":"#6B7280","stroke-width":"2"},null,8,se)]))],2)):n("",!0),t(y)?(s(),o("div",re,p(Math.round(t(y)*100))+"% ",1)):n("",!0)]),e("div",ae,[e("h3",le,p(t(C)),1),t(d)?(s(),o("p",ne,p(t(d)),1)):n("",!0),t(i)?(s(),o("p",ie,p(t(i)),1)):n("",!0),t(S)?(s(),o("div",ce,[t(u)?(s(),o("div",de,[r[2]||(r[2]=$('<svg width="14" height="14" viewBox="0 0 24 24" fill="none" data-v-bc17e7af><rect x="3" y="4" width="18" height="18" rx="2" ry="2" stroke="currentColor" stroke-width="2" data-v-bc17e7af></rect><line x1="16" y1="2" x2="16" y2="6" stroke="currentColor" stroke-width="2" data-v-bc17e7af></line><line x1="8" y1="2" x2="8" y2="6" stroke="currentColor" stroke-width="2" data-v-bc17e7af></line><line x1="3" y1="10" x2="21" y2="10" stroke="currentColor" stroke-width="2" data-v-bc17e7af></line></svg>',1)),e("span",null,p(l(t(u))),1)])):n("",!0),t(g)?(s(),o("div",ue,[r[3]||(r[3]=e("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none"},[e("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z",stroke:"currentColor","stroke-width":"2"}),e("circle",{cx:"12",cy:"10",r:"3",stroke:"currentColor","stroke-width":"2"})],-1)),e("span",null,p(t(g)),1)])):n("",!0)])):n("",!0)]),t(F)?(s(),o("div",he,[e("button",{onClick:E(N,["stop"]),class:"action-button primary"},[...r[4]||(r[4]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},[e("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z",stroke:"currentColor","stroke-width":"2"}),e("circle",{cx:"12",cy:"12",r:"3",stroke:"currentColor","stroke-width":"2"})],-1),j(" 查看详情 ",-1)])]),e("button",{onClick:E(w,["stop"]),class:"action-button secondary"},[...r[5]||(r[5]=[$('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" data-v-bc17e7af><circle cx="18" cy="5" r="3" stroke="currentColor" stroke-width="2" data-v-bc17e7af></circle><circle cx="6" cy="12" r="3" stroke="currentColor" stroke-width="2" data-v-bc17e7af></circle><circle cx="18" cy="19" r="3" stroke="currentColor" stroke-width="2" data-v-bc17e7af></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49" stroke="currentColor" stroke-width="2" data-v-bc17e7af></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49" stroke="currentColor" stroke-width="2" data-v-bc17e7af></line></svg> 分享 ',2)])])])):n("",!0)],2))}}),pe=R(ve,[["__scopeId","data-v-bc17e7af"]]);export{pe as A,we as S};
