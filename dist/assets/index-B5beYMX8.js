const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-Dxtm0_df.js","assets/vue-vendor-DjNuForC.js","assets/animal-CiS26lDf.js","assets/performance-DTgyZ5pq.js","assets/AnimalCard-BJ4JH0fU.js","assets/AnimalCard-CCx5kDWm.css","assets/vant-vendor-D-yQvc_G.js","assets/HomePage-DmTTWpTa.css","assets/DiagnosisPage-8tMZgYCM.js","assets/DiagnosisPage-D0bfN5bS.css","assets/CameraPage-CY-LVyZh.js","assets/CameraPage-BeT2n0wT.css","assets/ExpertPage-DGpD-9fk.js","assets/ExpertPage-B4M5SJIt.css","assets/ProfilePage-DOH-sk_t.js","assets/ProfilePage-CShz9ZRK.css","assets/AnimalDetailPage-C1BKGuG0.js","assets/AnimalDetailPage-DzGZ-o2Q.css","assets/TestPage-Cxh4B3bw.js","assets/TestPage-tn0RQdqM.css","assets/SearchPage-CxQ4bRV2.js","assets/SearchPage-BMvBalgZ.css"])))=>i.map(i=>d[i]);
import{h as P,j as D,k as F,r as E,c as y,l as V,w as L,q as k,s as c,t as R,e as g,v as x,x as S,y as M,z as b,f as $,d as z,A as B,B as j}from"./vue-vendor-DjNuForC.js";import{T as q,a as U,I as W}from"./vant-vendor-D-yQvc_G.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))t(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const n of a.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&t(n)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function t(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();const Q="modulepreload",H=function(s){return"/"+s},I={},_=function(i,r,t){let o=Promise.resolve();if(r&&r.length>0){let v=function(e){return Promise.all(e.map(d=>Promise.resolve(d).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),l=n?.nonce||n?.getAttribute("nonce");o=v(r.map(e=>{if(e=H(e),e in I)return;I[e]=!0;const d=e.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${p}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":Q,d||(m.as="script"),m.crossOrigin="",m.href=e,l&&m.setAttribute("nonce",l),document.head.appendChild(m),d)return new Promise((w,T)=>{m.addEventListener("load",w),m.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${e}`)))})}))}function a(n){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=n,window.dispatchEvent(l),!l.defaultPrevented)throw n}return o.then(n=>{for(const l of n||[])l.status==="rejected"&&a(l.reason);return i().catch(a)})},N=P({history:D(),routes:[{path:"/",name:"Home",component:()=>_(()=>import("./HomePage-Dxtm0_df.js"),__vite__mapDeps([0,1,2,3,4,5,6,7])),meta:{title:"首页",preload:!0}},{path:"/diagnosis",name:"Diagnosis",component:()=>_(()=>import("./DiagnosisPage-8tMZgYCM.js"),__vite__mapDeps([8,1,6,9])),meta:{title:"动物诊断"}},{path:"/camera",name:"Camera",component:()=>_(()=>import("./CameraPage-CY-LVyZh.js"),__vite__mapDeps([10,1,2,6,11])),meta:{title:"拍照识别",showNav:!1}},{path:"/expert",name:"Expert",component:()=>_(()=>import("./ExpertPage-DGpD-9fk.js"),__vite__mapDeps([12,1,3,6,13])),meta:{title:"咨询专家"}},{path:"/profile",name:"Profile",component:()=>_(()=>import("./ProfilePage-DOH-sk_t.js"),__vite__mapDeps([14,1,2,6,15])),meta:{title:"个人中心"}},{path:"/animal-detail/:id",name:"AnimalDetail",component:()=>_(()=>import("./AnimalDetailPage-C1BKGuG0.js"),__vite__mapDeps([16,1,2,6,17])),meta:{title:"动物详情",showNav:!1}},{path:"/test",name:"Test",component:()=>_(()=>import("./TestPage-Cxh4B3bw.js"),__vite__mapDeps([18,1,6,19])),meta:{title:"测试页面",showNav:!1}},{path:"/search",name:"Search",component:()=>_(()=>import("./SearchPage-CxQ4bRV2.js"),__vite__mapDeps([20,1,2,3,4,5,6,21])),meta:{title:"搜索",showNav:!1}}]});N.beforeEach((s,i,r)=>{s.meta.title&&(document.title=`${s.meta.title} - AnimalSnap`),r()});const J=F("user",()=>{const s=E({theme:"auto",language:"zh-CN",notifications:!0,autoSave:!0,imageQuality:"high"}),i=E({totalAnimals:0,totalIdentifications:0,averageConfidence:0,favoriteAnimal:null,lastActiveDate:new Date().toISOString(),collectionsCreated:0}),r=E(!0),t=E(!1),o=y(()=>s.value.theme==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:s.value.theme==="dark"),a=y(()=>s.value.language),n=y(()=>i.value),l=y(()=>s.value.theme),v=u=>{s.value={...s.value,...u},h()},e=u=>{i.value={...i.value,...u},h()},d=()=>{s.value={theme:"auto",language:"zh-CN",notifications:!0,autoSave:!0,imageQuality:"high"},h()},p=()=>{t.value=!0,h()},m=()=>{r.value=!1,h()},w=()=>{const u=["light","dark","auto"],O=(u.indexOf(s.value.theme)+1)%u.length;s.value.theme=u[O],h()},T=()=>{s.value.notifications=!s.value.notifications,h()},h=()=>{try{const u={settings:s.value,stats:i.value,isFirstVisit:r.value,hasSeenTutorial:t.value};localStorage.setItem("animalsnap-user",JSON.stringify(u))}catch(u){console.error("保存用户数据失败:",u)}},C=()=>{try{const u=localStorage.getItem("animalsnap-user");if(u){const f=JSON.parse(u);f.settings&&(s.value=f.settings),f.stats&&(i.value=f.stats),f.isFirstVisit!==void 0&&(r.value=f.isFirstVisit),f.hasSeenTutorial!==void 0&&(t.value=f.hasSeenTutorial)}}catch(u){console.error("加载用户数据失败:",u)}};return C(),{settings:s,stats:i,isFirstVisit:r,hasSeenTutorial:t,isDarkMode:o,displayLanguage:a,userStats:n,currentTheme:l,updateSettings:v,updateStats:e,resetSettings:d,markTutorialAsSeen:p,markFirstVisitComplete:m,toggleTheme:w,toggleNotifications:T,saveToLocalStorage:h,loadFromLocalStorage:C}}),K=(s,i)=>{const r=s.__vccOpts||s;for(const[t,o]of i)r[t]=o;return r},G={class:"main-layout"},X={class:"main-content"},Y={key:0,class:"bottom-nav"},Z={class:"nav-icon"},ee={class:"nav-icon"},te={width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},oe=["stroke"],se=["stroke"],ae={class:"camera-button"},ne={class:"nav-icon"},re={class:"nav-icon"},ie={__name:"MainLayout",setup(s){const i=M(),r=V(),t=E("home"),o=y(()=>r.meta.showNav!==!1),a={"/":"home","/diagnosis":"diagnosis","/camera":"camera","/expert":"expert","/profile":"profile"},n={home:"/",diagnosis:"/diagnosis",camera:"/camera",expert:"/expert",profile:"/profile"};L(()=>r.path,v=>{const e=a[v];if(e){t.value=e;return}if(v.startsWith("/animal-detail"))return;const d=["/test","/search"];d.includes(v)||!e&&!v.startsWith("/animal-detail")&&!d.includes(v)&&(t.value="home")},{immediate:!0});const l=v=>{const e=n[v];e&&i.push(e)};return(v,e)=>{const d=x("router-view"),p=x("van-icon");return b(),k("div",G,[c("main",X,[g(d)]),o.value?(b(),k("div",Y,[c("div",{class:S(["nav-item",{active:t.value==="home"}]),onClick:e[0]||(e[0]=m=>l("home"))},[c("div",Z,[g(p,{name:"home-o",color:t.value==="home"?"#1F2937":"#9CA3AF",size:"22"},null,8,["color"])]),e[5]||(e[5]=c("span",{class:"nav-label"},"首页",-1))],2),c("div",{class:S(["nav-item",{active:t.value==="diagnosis"}]),onClick:e[1]||(e[1]=m=>l("diagnosis"))},[c("div",ee,[(b(),k("svg",te,[c("circle",{cx:"12",cy:"12",r:"10",stroke:t.value==="diagnosis"?"#1F2937":"#9CA3AF","stroke-width":"2",fill:"none"},null,8,oe),c("path",{d:"M9 12l2 2 4-4",stroke:t.value==="diagnosis"?"#1F2937":"#9CA3AF","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",fill:"none"},null,8,se)]))]),e[6]||(e[6]=c("span",{class:"nav-label"},"诊断",-1))],2),c("div",{class:"camera-tab",onClick:e[2]||(e[2]=m=>l("camera"))},[c("div",ae,[g(p,{name:"photograph",color:"white",size:"32"})])]),c("div",{class:S(["nav-item",{active:t.value==="expert"}]),onClick:e[3]||(e[3]=m=>l("expert"))},[c("div",ne,[g(p,{name:"service",color:t.value==="expert"?"#1F2937":"#9CA3AF",size:"22"},null,8,["color"])]),e[7]||(e[7]=c("span",{class:"nav-label"},"专家",-1))],2),c("div",{class:S(["nav-item",{active:t.value==="profile"}]),onClick:e[4]||(e[4]=m=>l("profile"))},[c("div",re,[g(p,{name:"user-o",color:t.value==="profile"?"#1F2937":"#9CA3AF",size:"22"},null,8,["color"])]),e[8]||(e[8]=c("span",{class:"nav-label"},"我的",-1))],2)])):R("",!0)])}}},le=K(ie,[["__scopeId","data-v-d7b6b8e6"]]),ce=$({__name:"App",setup(s){const i=J(),r=y(()=>i.isDarkMode),t=a=>{const n=document.documentElement;a?(n.classList.add("dark-theme"),n.setAttribute("data-theme","dark")):(n.classList.remove("dark-theme"),n.setAttribute("data-theme","light"))},o=()=>{if(i.settings.theme==="auto"){const a=window.matchMedia("(prefers-color-scheme: dark)"),n=l=>{t(l.matches)};return a.addEventListener("change",n),()=>a.removeEventListener("change",n)}};return L(()=>i.settings.theme,()=>{t(r.value),o()},{immediate:!0}),L(r,a=>{t(a)},{immediate:!0}),z(()=>{t(r.value),o()}),(a,n)=>(b(),k("div",{id:"app",class:S({"dark-theme":r.value})},[g(le)],2))}}),A=B(ce);A.use(j());A.use(N);A.use(q);A.use(U);A.use(W);A.mount("#app");export{K as _,J as u};
